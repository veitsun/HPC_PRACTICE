# bank 冲突
在cuda中的共享内存是以bank为单位进行划分的，bank的划分方式与底层硬件架构密切相关。每个bank可以独立进行访问，这种划分旨在支持高效的并行内存访问。

### bank的划分
- **bank的数量：** 在大多数的cuda设备上，共享内存被划分为32个相同大小的bank，每个bank负责存储一定数量的连续内存地址。
- **数据的分配方式：** 连续的内存地址会被分配到不同的bank。例如，地址0在bank 0，地址1在bank 1，依次类推，直到地址31被分配到bank 31。接下来，地址32会被重新分配到bank 0，地址33到bank 1，以此类推。
  >这种内存分配方式意味着，如果不同线程访问的内存地址是相邻的（例如threadIdx.x = 0访问地址0，threadIdx.x = 1访问地址1），这些访问请求会被映射到不同的bank，可以并行进行。
- 

### 序列化
> 在共享内存中的bank冲突或者是未对齐的内存访问，GPU无法同时处理所有线程的请求，必须把这些访问请求排队，一个一个地顺序执行。这个过程被称为序列化。

### 访问被序列化
> 原本可以并行的多个内存访问请求，现在必须按照顺序依次执行，而不是同时执行。这样会导致性能下降，因为并行的优势没有得到充分发挥。

